(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{9655:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return s(9291)}])},9291:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(7568),r=s(4051),a=s.n(r),l=s(5893),c=s(7294),i=s(9669),u=s.n(i),o=s(3240),d=s(9008),f=s.n(d);function m(){var e=(0,c.useState)(),t=e[0],s=e[1],r=(0,c.useState)(""),i=r[0],o=r[1],d=(0,c.useState)(!1),m=d[0],x=d[1],h=(0,c.useState)(),p=h[0],w=h[1],j=function(){var e=(0,n.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),x(!0),localStorage.setItem("key",t),e.prev=3,e.next=6,u().get("/api/pipedreams/".concat(t));case 6:r=e.sent,w(JSON.stringify(r.data)),o("Keys retrieved succesfully"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),w(),o("An error has occurred, please check you are using a valid key");case 15:s(""),x(!1);case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsxs)("section",{className:"md:m-10 xs:m-2 xs:ml-8 w-10/12",children:[(0,l.jsxs)(f(),{children:[(0,l.jsx)("title",{children:"Taskforce Settings"}),(0,l.jsx)("link",{rel:"icon",href:"/taskforce-next-admin/favicon.ico"})]}),(0,l.jsx)("main",{children:(0,l.jsx)("div",{className:"py-6",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"}),(0,l.jsxs)("form",{onSubmit:j,className:"flex flex-col mt-10 bg-white max-w-md xs:w-full w-5/12 p-3",children:[(0,l.jsxs)("label",{className:"text-xl font-semibold",children:[" ","Pipedream Access Key"]}),(0,l.jsx)("input",{onChange:function(e){return s(e.target.value)},className:"border w-full h-9 mt-4",required:!0,value:t}),m&&(0,l.jsx)("div",{className:"self-center border-8 border-gray border-t-skyblue rounded-full border-t-8 w-[3rem] h-[3rem] animate-spin mt-4"}),(0,l.jsx)("button",{className:"w-full text-white h-9 bg-forest-green mt-4",type:"submit",children:"Save"}),i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"w-full flex justify-center my-4",children:i}),p&&(0,l.jsx)("p",{className:"w-full break-all flex justify-center",children:p})]})]})]})})})]})}m.getLayout=function(e){return(0,l.jsx)(o.Z,{children:e})}}},function(e){e.O(0,[911,217,240,774,888,179],(function(){return t=9655,e(e.s=t);var t}));var t=e.O();_N_E=t}]);