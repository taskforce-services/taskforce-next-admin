(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{2426:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invoices",function(){return t(2e3)}])},2469:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var r=t(5893),n=t(9008),l=t.n(n);function a(e){var s=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Taskforce Services"})}),(0,r.jsx)("main",{className:"flex bg-gray-light md:h-[100vh] xs:min-h-[100vh]",children:s})]})}},4381:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var r=t(5893),n=t(1163),l=t(7294);function a(){var e=(0,l.useState)(!0),s=e[0],t=e[1],a=(0,n.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[!s&&(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"md:hidden xs:flex h-9 w-9 absolute mt-2 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"black",strokeWidth:"2",onClick:function(){return t(!s)},children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("div",{className:s?"h-[100vh] md:w-3/12 sm:w-3/12 md:flex md:flex-col sm:h-auto bg-indigo xs:absolute md:relative sm:h-[100vh]":"hidden",children:[(0,r.jsx)("div",{className:" md:hidden xs:flex w-full justify-end",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"md:hidden xs:flex h-9 w-9 absolute mt-2 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"2",onClick:function(){return t(!s)},children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})})}),(0,r.jsx)("main",{className:"flex flex-row h-full",children:(0,r.jsxs)("div",{className:"flex justify-between flex-col h-full w-11/12",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-sans flex justify-center text-white text-2xl font-bold m-6 mt-9",children:"workflow"}),(0,r.jsxs)("nav",{children:[(0,r.jsx)("div",{className:"/"===a.pathname?"my-4 mx-2 pl-1 rounded w-full bg-violet":"my-4 mx-2 pl-1 rounded w-full hover:bg-violet",children:(0,r.jsxs)("a",{className:"flex flex-row my-2 items-center",href:"/",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"#c0c0c0",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,r.jsx)("h2",{className:"ml-2 text-white font-sans text-xl",children:"Dashboard"})]})}),(0,r.jsx)("div",{className:"/invoices"===a.pathname?"my-4 mx-2 pl-1 rounded w-full bg-violet":"my-4 mx-2 pl-1 rounded w-full hover:bg-violet",children:(0,r.jsxs)("a",{className:"flex flex-row mb-2 items-center",href:"invoices",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"#c0c0c0",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,r.jsx)("h2",{className:"ml-2 text-white font-sans text-xl",children:"Monthly Billing"})]})})]})]}),(0,r.jsx)("div",{className:"/settings"===a.pathname?"my-4 mx-2 flex align-end pl-1 rounded w-full bg-violet":"my-4 mx-2 flex align-end pl-1 rounded w-full hover:bg-violet",children:(0,r.jsx)("a",{href:"settings",children:(0,r.jsxs)("div",{className:"flex flex-row my-2",children:[(0,r.jsxs)("svg",{className:"w-8 h-8",fill:"none",stroke:"#c0c0c0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,r.jsx)("h2",{className:"ml-2 text-white font-sans text-xl",children:"Settings"})]})})})]},"navBar")})]})]})}},2e3:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var r=t(7568),n=t(4051),l=t.n(n),a=t(5893),o=t(9008),i=t.n(o),c=t(2469),d=t(4381),x=t(7294),h=t(9669),m=t.n(h),u=t(381),f=t.n(u),v=t(2920);t(993);function p(){var e,s=(0,x.useState)(!1),t=s[0],n=s[1],o=(0,x.useState)(""),c=o[0],d=o[1],h=f()().format("YYYY-MM-DD"),u=f()(h).subtract(1,"months").endOf("month").format("YYYY-MM-DD"),p=f()(h).subtract(1,"months").startOf("month").format("YYYY-MM-DD"),g=(0,x.useState)(p),w=g[0],j=g[1],k=(0,x.useState)(u),b=k[0],N=k[1],y=function(){var s=(0,r.Z)(l().mark((function s(t){var r;return l().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t.preventDefault(),b&&w){s.next=5;break}v.Am.error("Please select a date range",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s.next=26;break;case 5:if(!(w>b)){s.next=9;break}v.Am.error("Please select a valid date range",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s.next=25;break;case 9:if(n(!0),e={from:w,to:b},r=localStorage.getItem("key")){s.next=16;break}v.Am.error("Please first enter your pipedream access key on the Settings screen.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s.next=25;break;case 16:return s.prev=16,s.next=19,m().post("/api/pipedreams/".concat(r),e);case 19:v.Am.success("Invoice created successfully.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s.next=25;break;case 22:s.prev=22,s.t0=s.catch(16),v.Am.error("An error has occurred, please check you are using a valid key",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 25:n(!1);case 26:case"end":return s.stop()}}),s,null,[[16,22]])})));return function(e){return s.apply(this,arguments)}}();return(0,a.jsxs)("section",{className:"md:m-10 xs:ml-8 xs:m-2 w-10/12",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Taskforce Monthly Invoicing"}),(0,a.jsx)("link",{rel:"icon",href:"/taskforce-next-admin/favicon.ico"})]}),(0,a.jsxs)("main",{children:[(0,a.jsx)("h1",{className:"xs:text-4xl sm:text-5xl font-bold mt-9",children:"Monthly Billing"}),(0,a.jsxs)("h2",{className:"text-xl flex font-semibold mt-9",children:["1. Review all records in",(0,a.jsx)("a",{href:"https://app.clockify.me/reports/summary",children:(0,a.jsx)("h2",{className:"ml-2 text-blue underline font-sans text-xl",children:"clockify.me"})})]}),(0,a.jsx)("h2",{className:"text-xl flex font-semibold mt-9",children:"2. Send invoices to stripe"}),(0,a.jsxs)("div",{className:"md:flex",children:[(0,a.jsxs)("form",{className:"flex flex-col mt-10 bg-white max-w-md xs:w-full w-5/12 p-3",children:[(0,a.jsx)("label",{className:"text-xl font-semibold",children:"Period Start"}),(0,a.jsx)("input",{type:"date",className:"border w-full h-9 mt-4 rounded border-gray",required:!0,value:w,onChange:function(e){return j(e.target.value)}})]}),(0,a.jsxs)("form",{className:"md:ml-2 flex flex-col mt-10 bg-white max-w-md xs:w-full w-9/12 p-3",children:[(0,a.jsx)("label",{className:"text-xl font-semibold",children:"Period End"}),(0,a.jsx)("input",{type:"date",className:"border w-full h-9 mt-4 rounded border-gray",required:!0,value:b,onChange:function(e){return function(e){N(e.target.value),w>e.target.value?v.Am.warn("End date cannot be earlier than the Start date",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):d("")}(e)}})]})]}),(0,a.jsxs)("div",{className:"flex flex-col max-w-4xl",children:[c&&(0,a.jsx)("span",{className:"text-sm text-red",children:c}),t&&(0,a.jsx)("div",{className:"self-center border-8 border-white border-t-skyblue rounded-full border-t-8 w-[3rem] h-[3rem] animate-spin mt-4"}),(0,a.jsx)("button",{className:"sm:w-[300px] xs:w-[250px] mt-10 md:self-end xs:self-center p-1.5 rounded text-white h-9 bg-indigo mt-4",onClick:y,children:"Create Invoices"})]}),(0,a.jsx)("h2",{className:"text-xl flex font-semibold mt-9",children:"3. Review all invoices and send"}),(0,a.jsx)(v.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})}p.getLayout=function(e){return(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(d.Z,{}),e]})}}},function(e){e.O(0,[885,637,143,774,888,179],(function(){return s=2426,e(e.s=s);var s}));var s=e.O();_N_E=s}]);