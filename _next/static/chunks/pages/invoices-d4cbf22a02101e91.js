(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{2426:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invoices",function(){return t(1637)}])},2469:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var s=t(5893),r=t(9008),l=t.n(r);function a(e){var n=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Taskforce Services"})}),(0,s.jsx)("main",{className:"flex bg-gray-light md:h-[100vh] xs:min-h-[100vh]",children:n})]})}},4381:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var s=t(5893),r=t(1163),l=t(7294);function a(){var e=(0,l.useState)(!0),n=e[0],t=e[1],a=(0,r.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[!n&&(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"md:hidden xs:flex h-9 w-9 absolute mt-2 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"black",strokeWidth:"2",onClick:function(){return t(!n)},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:n?"md:h-[100vh] md:w-3/12 sm:w-3/12 md:flex md:flex-col sm:h-auto bg-indigo xs:absolute md:relative sm:h-[100vh]":"hidden",children:[(0,s.jsx)("div",{className:" md:hidden xs:flex w-full justify-end",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"md:hidden xs:flex h-9 w-9 absolute mt-2 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"2",onClick:function(){return t(!n)},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})})}),(0,s.jsx)("main",{className:"flex flex-row h-full",children:(0,s.jsxs)("div",{className:"flex justify-between flex-col h-full w-11/12",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-sans flex justify-center text-white text-2xl font-bold m-6 mt-9",children:"workflow"}),(0,s.jsxs)("nav",{children:[(0,s.jsx)("div",{className:"/"===a.pathname?"my-4 mx-2 pl-1 rounded w-full bg-violet":"my-4 mx-2 pl-1 rounded w-full hover:bg-violet",children:(0,s.jsxs)("a",{className:"flex flex-row my-2 items-center",href:"/",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"#c0c0c0",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,s.jsx)("h2",{className:"ml-2 text-white font-sans text-xl",children:"Dashboard"})]})}),(0,s.jsx)("div",{className:"/invoices"===a.pathname?"my-4 mx-2 pl-1 rounded w-full bg-violet":"my-4 mx-2 pl-1 rounded w-full hover:bg-violet",children:(0,s.jsxs)("a",{className:"flex flex-row mb-2 items-center",href:"invoices",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"#c0c0c0",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,s.jsx)("h2",{className:"ml-2 text-white font-sans text-xl",children:"Monthly Billing"})]})})]})]}),(0,s.jsx)("div",{className:"/settings"===a.pathname?"my-4 mx-2 flex align-end pl-1 rounded w-full bg-violet":"my-4 mx-2 flex align-end pl-1 rounded w-full hover:bg-violet",children:(0,s.jsx)("a",{href:"settings",children:(0,s.jsxs)("div",{className:"flex flex-row my-2",children:[(0,s.jsxs)("svg",{className:"w-8 h-8",fill:"none",stroke:"#c0c0c0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,s.jsx)("h2",{className:"ml-2 text-white font-sans text-xl",children:"Settings"})]})})})]},"navBar")})]})]})}},1637:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var s=t(7568),r=t(4051),l=t.n(r),a=t(5893),i=t(9008),c=t.n(i),o=t(2469),d=t(4381),x=t(7294),m=t(9669),u=t.n(m),h=t(3454),f=h.env.NEXT_PUBLIC_PIPEDREAM_INVOICE_URL;(function(){var e=(0,s.Z)(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("".concat("https://eofdotsr4ewj68m.m.pipedream.net","?key=").concat(n));case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))})(),function(){var e=(0,s.Z)(l().mark((function e(n,t){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().post("".concat(f,"?key=").concat(n),t);case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))}();function v(){var e,n=(0,x.useState)(!1),t=n[0],r=n[1],i=(0,x.useState)(""),o=i[0],d=i[1],m=(0,x.useState)(""),u=m[0],h=m[1],f=(0,x.useState)(null),v=f[0],w=f[1],p=(0,x.useState)(null),j=p[0],g=p[1],k=function(){var n=(0,s.Z)(l().mark((function n(t){var s,a;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),j&&v){n.next=5;break}h("Please select a date range"),n.next=20;break;case 5:return r(!0),e={from:v,to:j},s=localStorage.getItem("key"),n.prev=8,n.next=11,axios.post("/api/pipedreams/".concat(s),e);case 11:a=n.sent,console.log(a,"invoiceResponse"),d("Invoice created successfully"),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(8),d("An error has occurred, please check you are using a valid key");case 19:r(!1);case 20:case"end":return n.stop()}}),n,null,[[8,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,a.jsxs)("section",{className:"md:m-10 xs:ml-16 xs:m-2 w-10/12",children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:"Taskforce Monthly Invoicing"}),(0,a.jsx)("link",{rel:"icon",href:"/taskforce-next-admin/favicon.ico"})]}),(0,a.jsxs)("main",{children:[(0,a.jsx)("h1",{className:"text-5xl font-bold mt-9",children:"Monthly Billing"}),(0,a.jsxs)("h2",{className:"text-xl flex font-semibold mt-9",children:["1. Review all records in",(0,a.jsx)("a",{href:"https://app.clockify.me/reports/summary",children:(0,a.jsx)("h2",{className:"ml-2 text-blue underline font-sans text-xl",children:"clockify.me"})})]}),(0,a.jsx)("h2",{className:"text-xl flex font-semibold mt-9",children:"2. Send invoices to stripe"}),(0,a.jsxs)("div",{className:"md:flex",children:[(0,a.jsxs)("form",{className:"flex flex-col mt-10 bg-white max-w-md xs:w-full w-5/12 p-3",children:[(0,a.jsx)("label",{className:"text-xl font-semibold",children:"Period Start"}),(0,a.jsx)("input",{type:"date",className:"border w-full h-9 mt-4 rounded border-gray",required:!0,onChange:function(e){return w(e.target.value)}})]}),(0,a.jsxs)("form",{className:"md:ml-2 flex flex-col mt-10 bg-white max-w-md xs:w-full w-9/12 p-3",children:[(0,a.jsx)("label",{className:"text-xl font-semibold",children:"Period End"}),(0,a.jsx)("input",{type:"date",className:"border w-full h-9 mt-4 rounded border-gray",required:!0,onChange:function(e){return function(e){g(e.target.value),v>e.target.value?h("Period End date cannot be earlier than the Period Start date"):h("")}(e)}})]})]}),(0,a.jsxs)("div",{className:"flex flex-col max-w-4xl",children:[u&&(0,a.jsx)("span",{className:"text-sm text-red",children:u}),t&&(0,a.jsx)("div",{className:"self-center border-8 border-white border-t-skyblue rounded-full border-t-8 w-[3rem] h-[3rem] animate-spin mt-4"}),(0,a.jsx)("button",{className:"sm:w-[300px] xs:w-[250px] mt-10 md:self-end xs:self-center p-1.5 rounded text-white h-9 bg-indigo mt-4",onClick:k,children:"Create Invoices"})]}),o&&(0,a.jsx)("p",{className:"w-full flex justify-center my-4",children:o}),(0,a.jsx)("h2",{className:"text-xl flex font-semibold mt-9",children:"3. Review all invoices and send"})]})]})}v.getLayout=function(e){return(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(d.Z,{}),e]})}}},function(e){e.O(0,[637,774,888,179],(function(){return n=2426,e(e.s=n);var n}));var n=e.O();_N_E=n}]);